(function(e,t,n,r){"use strict";function o(t,n){this.element=t;this.$el=e(t);this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.moveInterval;this.state=0;this.paused=0;this.moving=0;if(this.$el.is("ul, ol")){this.init()}}var i="newsTicker",s={row_height:20,max_rows:3,speed:400,duration:2500,direction:"up",autostart:1,pauseOnHover:1,nextButton:null,prevButton:null,startButton:null,stopButton:null,hasMoved:function(){},movingUp:function(){},movingDown:function(){},start:function(){},stop:function(){},pause:function(){},unpause:function(){}};o.prototype={init:function(){this.$el.height(this.options.row_height*this.options.max_rows).css({overflow:"hidden"});this.checkSpeed();if(this.options.nextButton&&typeof this.options.nextButton[0]!=="undefined")this.options.nextButton.click(function(e){this.moveNext();this.resetInterval()}.bind(this));if(this.options.prevButton&&typeof this.options.prevButton[0]!=="undefined")this.options.prevButton.click(function(e){this.movePrev();this.resetInterval()}.bind(this));if(this.options.stopButton&&typeof this.options.stopButton[0]!=="undefined")this.options.stopButton.click(function(e){this.stop()}.bind(this));if(this.options.startButton&&typeof this.options.startButton[0]!=="undefined")this.options.startButton.click(function(e){this.start()}.bind(this));if(this.options.pauseOnHover){this.$el.hover(function(){if(this.state)this.pause()}.bind(this),function(){if(this.state)this.unpause()}.bind(this))}if(this.options.autostart)this.start()},start:function(){if(!this.state){this.state=1;this.resetInterval();this.options.start()}},stop:function(){if(this.state){clearInterval(this.moveInterval);this.state=0;this.options.stop()}},resetInterval:function(){if(this.state){clearInterval(this.moveInterval);this.moveInterval=setInterval(function(){this.move()}.bind(this),this.options.duration)}},move:function(){if(!this.paused)this.moveNext()},moveNext:function(){if(this.options.direction==="down")this.moveDown();else if(this.options.direction==="up")this.moveUp()},movePrev:function(){if(this.options.direction==="down")this.moveUp();else if(this.options.direction==="up")this.moveDown()},pause:function(){if(!this.paused)this.paused=1;this.options.pause()},unpause:function(){if(this.paused)this.paused=0;this.options.unpause()},moveDown:function(){if(!this.moving){this.moving=1;this.options.movingDown();this.$el.children("li:last").detach().prependTo(this.$el).css("marginTop","-"+this.options.row_height+"px").animate({marginTop:"0px"},this.options.speed,function(){this.moving=0;this.options.hasMoved()}.bind(this))}},moveUp:function(){if(!this.moving){this.moving=1;this.options.movingUp();var e=this.$el.children("li:first");e.animate({marginTop:"-"+this.options.row_height+"px"},this.options.speed,function(){e.detach().css("marginTop","0").appendTo(this.$el);this.moving=0;this.options.hasMoved()}.bind(this))}},updateOption:function(e,t){if(typeof this.options[e]!=="undefined"){this.options[e]=t;if(e=="duration"||e=="speed"){this.checkSpeed();this.resetInterval()}}},add:function(t){this.$el.append(e("<li>").html(t))},getState:function(){if(paused)return 2;else return this.state},checkSpeed:function(){if(this.options.duration<this.options.speed+25)this.options.speed=this.options.duration-25},destroy:function(){this._destroy()}};e.fn[i]=function(t){var n=arguments;return this.each(function(){var r=e(this),s=e.data(this,"plugin_"+i),u=typeof t==="object"&&t;if(!s){r.data("plugin_"+i,s=new o(this,u))}if(typeof t==="string"){s[t].apply(s,Array.prototype.slice.call(n,1))}})}})(jQuery,window,document)